{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import { nanoid } from 'nanoid'\n\nconst form = document.querySelector('#task-form');\nconst list = document.querySelector('#task-list');\nconst KEY = 'task';\nconsole.log(form);\n\nlist.addEventListener(\"click\", handleClick);\n\nfunction handleClick(event){\n  const deliteLi = event.target;\n  if (deliteLi.nodeName !== \"BUTTON\") return;\n\n  const data = JSON.parse(localStorage.getItem(KEY));\n  \n  const updateData = data.filter(({ id }) => id !== deliteLi.parentNode.id);\n  localStorage.setItem(KEY, JSON.stringify(updateData));\n\n  deliteLi.parentNode.remove();\n}\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const submitValue = event.currentTarget.elements.taskName.value.trim();\n  if (!submitValue) return;\n  console.dir(event.currentTarget.elements.taskName.value);\n  addTask(submitValue);\n\n  event.currentTarget.reset();\n});\n\nfunction onSubmit(value, id) {\n  const createStr = `<li id=\"${id}\">${value}<button tupe=\"button\">x</button></li>`;\n  list.insertAdjacentHTML('beforeend', createStr);\n}\n\nfunction addTask(value) {\n  const data = JSON.parse(localStorage.getItem(KEY)) || [];\n\n  const id = nanoid();\n  \n  data.push({ value, id });\n  onSubmit(value, id);\n  \n  localStorage.setItem(KEY, JSON.stringify(data));\n}\n\nfunction saveData() {\n  const saveToLs = JSON.parse(localStorage.getItem(KEY));\n  if (!saveToLs) return;\n\n  const createMarkup = saveToLs\n    .map(({value, id}) => {\n      return `<li id=\"${id}\">${value}<button tupe=\"button\">x</button></li>`;\n    })\n    .join('');\n\n  list.insertAdjacentHTML('beforeend', createMarkup);\n}\nsaveData();"],"names":["form","list","KEY","handleClick","event","deliteLi","updateData","id","submitValue","addTask","onSubmit","value","createStr","data","nanoid","saveData","saveToLs","createMarkup"],"mappings":"svBAEA,MAAMA,EAAO,SAAS,cAAc,YAAY,EAC1CC,EAAO,SAAS,cAAc,YAAY,EAC1CC,EAAM,OACZ,QAAQ,IAAIF,CAAI,EAEhBC,EAAK,iBAAiB,QAASE,CAAW,EAE1C,SAASA,EAAYC,EAAM,CACzB,MAAMC,EAAWD,EAAM,OACvB,GAAIC,EAAS,WAAa,SAAU,OAIpC,MAAMC,EAFO,KAAK,MAAM,aAAa,QAAQJ,CAAG,CAAC,EAEzB,OAAO,CAAC,CAAE,GAAAK,KAASA,IAAOF,EAAS,WAAW,EAAE,EACxE,aAAa,QAAQH,EAAK,KAAK,UAAUI,CAAU,CAAC,EAEpDD,EAAS,WAAW,QACtB,CAEAL,EAAK,iBAAiB,SAAUI,GAAS,CACvCA,EAAM,eAAc,EAEpB,MAAMI,EAAcJ,EAAM,cAAc,SAAS,SAAS,MAAM,OAC3DI,IACL,QAAQ,IAAIJ,EAAM,cAAc,SAAS,SAAS,KAAK,EACvDK,EAAQD,CAAW,EAEnBJ,EAAM,cAAc,QACtB,CAAC,EAED,SAASM,EAASC,EAAOJ,EAAI,CAC3B,MAAMK,EAAY,WAAWL,CAAE,KAAKI,CAAK,wCACzCV,EAAK,mBAAmB,YAAaW,CAAS,CAChD,CAEA,SAASH,EAAQE,EAAO,CACtB,MAAME,EAAO,KAAK,MAAM,aAAa,QAAQX,CAAG,CAAC,GAAK,GAEhDK,EAAKO,IAEXD,EAAK,KAAK,CAAE,MAAAF,EAAO,GAAAJ,CAAI,CAAA,EACvBG,EAASC,EAAOJ,CAAE,EAElB,aAAa,QAAQL,EAAK,KAAK,UAAUW,CAAI,CAAC,CAChD,CAEA,SAASE,GAAW,CAClB,MAAMC,EAAW,KAAK,MAAM,aAAa,QAAQd,CAAG,CAAC,EACrD,GAAI,CAACc,EAAU,OAEf,MAAMC,EAAeD,EAClB,IAAI,CAAC,CAAC,MAAAL,EAAO,GAAAJ,CAAE,IACP,WAAWA,CAAE,KAAKI,CAAK,uCAC/B,EACA,KAAK,EAAE,EAEVV,EAAK,mBAAmB,YAAagB,CAAY,CACnD,CACAF,EAAU"}